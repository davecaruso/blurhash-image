{let e,t=12,a=255,s=.055,r=1+s,{max:n,min:l,PI:i,cos:c,round:m,sign:o}=Math,d=e=>[...e].reduce(((e,t)=>83*e+"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~".indexOf(t)),0);class h extends HTMLElement{connectedCallback(){let h,u,b,g,f=this.getAttribute("blurhash"),p=document.createElement("canvas"),x=p.getContext("2d"),C=d(f[0]),k=1+(C/9|0),y=C%9+1,A=(d(f[1])+1)/166,D=[],E=new Uint8Array(256),I=0,v=x.createImageData(8,p.width=p.height=8);for(g=0;g<y*k;g++)(D[g]=g?(e=d(f.slice(4+2*g,6+2*g)),[e/361|0,(e/19|0)%19,e%19].map((e=>(e-9)/9)).map((e=>o(e)*e**2*A))):(e=d(f.slice(2,6)),[e>>16,e>>8&a,e&a].map((n=>(e=n/a,e<=.4?e/t:((e+s)/r)**2.4)))))[3]=1;for(h=0;h<8;h++)for(u=0;u<8;u++){for(e=[0,0,0,1],b=0;b<k;b++)for(g=0;g<y;g++)e=e.map(((e,t)=>e+D[g+b*y][t]*c(i*u*g/8)*c(i*h*b/8)));e.map((i=>E[I++]=(e=n(0,l(1,i)),m((e<=1/319?e*t:r*e**.41-s)*a+.5))))}v.data.set(E),x.putImageData(v,0,0),this.style.background=`url("${p.toDataURL()}")0 0/100%`}attributeChangedCallback(e,t,a){a||(this[e]=t)}}h.observedAttributes=["style"],customElements.define("blurhash-image",h)}